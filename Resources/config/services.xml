<?xml version="1.0" encoding="UTF-8"?>
<container xmlns="http://www.symfony-project.org/schema/dic/services"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation="http://www.symfony-project.org/schema/dic/services http://www.symfony-project.org/schema/dic/services/services-1.0.xsd">

	<parameters>
		<parameter key="request.class">Bundle\WebServiceBundle\Soap\SoapRequest</parameter>
	</parameters>
	
	<services>
		<!-- redefine FrameworkBundle 'http_kernel' service with different id -->
        <service id="symfony_http_kernel" class="%http_kernel.class%">
            <argument type="service" id="event_dispatcher" />
            <argument type="service" id="controller_resolver" />
        </service>
        
		<service id="webservice_soap_server" class="SoapServer">
			<argument type="string">%webservice.config.wsdl%</argument>
		</service>
		<service id="webservice_http_kernel" class="Bundle\WebServiceBundle\SoapKernel">
            <argument type="service" id="webservice_soap_server" />
            <argument type="service" id="symfony_http_kernel" />
		</service>
	</services>
</container>